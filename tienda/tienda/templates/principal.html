{% load static %}
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Mi Tienda de Alcohol y Tabaco{% endblock %}</title>
        <!-- Tus estilos y scripts -->
        <link rel="stylesheet" href="{% static 'css/estilos.css' %}">
        <link rel="stylesheet" href="{% static 'css/menu.css' %}">
        <link rel="stylesheet" href="{% static 'css/pie.css' %}">
        <link rel="stylesheet" href="{% static 'css/desplegable.css' %}">
        <link rel="stylesheet" href="{% static 'css/formulario.css' %}">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <script src="{% static 'javascript/desplegable.js' %}"></script>
    </head>
    <body>
        <!-- Cabecera -->
        <header class="header bg-light">
            <div class="container d-flex justify-content-between align-items-center py-3">
                <!-- Logo -->
                <img src="{% static 'imagenes/logo.webp' %}" alt="Logo de la Tienda" class="logo">

                <!-- Información del usuario / Sesión -->
                <nav>
                    {% if user.is_authenticated %}
                        <ul class="list-unstyled mb-0">
                            <li><strong>Usuario:</strong> {{ request.session.nombre_usuario }}</li>
                            <li><strong>Rol:</strong> {{ request.session.rol }}</li>
                            <li><strong>Fecha de Inicio:</strong> {{ request.session.fecha_inicio }}</li>
                            <li><strong>Productos Favoritos:</strong> {{ request.session.productos_favoritos }}</li>
                        </ul>
                    {% else %}
                        <p class="mb-0">
                            No has iniciado sesión. 
                            <a href="{% url 'login' %}">Inicia sesión aquí</a>.
                        </p>
                    {% endif %}
                </nav>
                
                <!-- Menú principal y otros elementos de cabecera -->
                {% block header %}
                    <!-- Aquí incluyes tu menú, formularios o enlaces adicionales -->
                    {% include "estructura/menu.html" %}
                    {% include "estructura/formularios.html" %}
                {% endblock %}
            </div>
        </header>

        <!-- Contenido principal -->
        <main class="container my-5">
            {% block contenido %}
            {% endblock %}
        </main>

        <!-- Pie de página -->
        <footer class="footer bg-dark text-light py-3">
            <div class="container">
                {% include "estructura/pie.html" %}
            </div>
        </footer>

        <!-- Bootstrap JS Bundle -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
